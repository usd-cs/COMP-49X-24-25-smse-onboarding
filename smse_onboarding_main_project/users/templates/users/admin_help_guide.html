{% extends 'base.html' %}
{% load static %}

{% block title %}Admin Help Guide{% endblock %}

{% block extra_css %}
<style>
    .help-container-dark {
        background-color: #3c3c3c;
        min-height: 100vh;
        padding: 1rem;
    }

    /* Force cards to fit their content */
    .card {
        height: auto !important;
        min-height: 0 !important;
        max-height: none !important;
        overflow: visible !important;
    }

    .card-body {
        padding: 0.5rem !important;
        margin: 0 !important;
        height: auto !important;
        min-height: 0 !important;
        max-height: none !important;
        box-sizing: border-box !important;
    }

    .card-body > p:last-child,
    .card-body > ul:last-child {
        margin-bottom: 0 !important;
    }

    .card-title {
        margin-bottom: 0.25rem !important;
    }

    .card-text {
        margin-bottom: 0 !important;
    }

    .card-small {
        min-height: 0 !important;
        height: auto !important;
        padding: 0.5rem !important;
        margin: 0 !important;
        max-height: fit-content !important;
    }
</style>
{% endblock %}

{% block content %}
<div class="spinner-wrapper">
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>

<div {% if faculty.dark_mode %}class="help-container-dark"{% endif %}>
    <div class="container-fluid mt-4">
        <div class="row justify-content-center">
            <div class="col-11">
                <div class="card shadow-sm" {% if faculty.dark_mode %}style="border: 1px solid #4b4b4b;"{% endif %}>
                    <div class="card-body p-3" {% if faculty.dark_mode %}style="background-color: #4b4b4b; border-radius: 4px;"{% endif %}>
                        <!-- Back button with house icon -->
                        <a href="javascript:history.back()" class="btn btn-link {% if faculty.dark_mode %}text-white{% else %}text-secondary{% endif %} mb-3">
                            <span class="tt" data-bs-placement="bottom" data-bs-title="Back to Dashboard">
                                <i class="bi bi-house-fill fs-4"></i>
                            </span>
                        </a>

                        <!-- Navigation Tabs -->
                        <ul class="nav nav-tabs mb-3" id="helpTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="basic-tab" data-bs-toggle="tab" data-bs-target="#basic" type="button" role="tab" {% if faculty.dark_mode %}style="background-color: #4b4b4b;"{% endif %}>
                                    <i class="bi bi-speedometer2 me-2" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}></i><span {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>Basic Admin Guide</span>
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="advanced-tab" data-bs-toggle="tab" data-bs-target="#advanced" type="button" role="tab" {% if faculty.dark_mode %}style="background-color: #4b4b4b;"{% endif %}>
                                    <i class="bi bi-gear-fill me-2" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}></i><span {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>Advanced Admin Guide</span>
                                </button>
                            </li>
                        </ul>

                        <!-- Tab Content -->
                        <div class="tab-content" id="helpTabsContent">
                            <!-- Basic Admin Guide -->
                            <div class="tab-pane fade show active" id="basic" role="tabpanel">
                                <div class="row">
                                    <!-- Left Column - Welcome Message -->
                                    <div class="col-md-4">
                                        <h1 class="card-title mb-3" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>Admin Dashboard Guide</h1>
                                        <div class="alert alert-info p-2">
                                            <div class="d-flex">
                                                <div class="me-2">
                                                    <i class="bi bi-info-circle-fill fs-3"></i>
                                                </div>
                                                <div>
                                                    <h4 class="mb-1">Hello, {{ request.user.first_name }}!</h4>
                                                    <p class="mb-0">Welcome to the School of Engineering admin dashboard. This guide will help you manage faculty onboarding and administrative tasks effectively.</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Right Column - Getting Started Cards -->
                                    <div class="col-md-8">
                                        <div class="row g-2">
                                            <div class="col-md-6">
                                                <div class="card h-auto border-0 shadow-sm">
                                                    <div class="card-body p-2 card-small" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px; color: #ffffff;"{% endif %}>
                                                        <h5 class="card-title mb-1"><i class="bi bi-people-fill text-primary me-2"></i>Faculty Management</h5>
                                                        <p class="card-text mb-0">Monitor new hire progress, view faculty directory, and manage faculty profiles and documents.</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="card h-auto border-0 shadow-sm">
                                                    <div class="card-body p-2 card-small" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px; color: #ffffff;"{% endif %}>
                                                        <h5 class="card-title mb-1"><i class="bi bi-check2-square text-primary me-2"></i>Task Oversight</h5>
                                                        <p class="card-text mb-0">Track task completion, send reminders, and manage onboarding deadlines for faculty members.</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="card h-auto border-0 shadow-sm">
                                                    <div class="card-body p-2 card-small" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px; color: #ffffff;"{% endif %}>
                                                        <h5 class="card-title mb-1"><i class="bi bi-file-earmark-text text-primary me-2"></i>Document Management</h5>
                                                        <p class="card-text mb-0">Review and manage faculty documents, including resumes, certifications, and other required paperwork.</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="card h-auto border-0 shadow-sm">
                                                    <div class="card-body p-2 card-small" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px; color: #ffffff;"{% endif %}>
                                                        <h5 class="card-title mb-1"><i class="bi bi-bell-fill text-primary me-2"></i>Notifications</h5>
                                                        <p class="card-text mb-0">Send reminders and notifications to faculty members about upcoming deadlines and incomplete tasks.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Advanced Admin Guide -->
                            <div class="tab-pane fade" id="advanced" role="tabpanel">
                                <div class="row">
                                    <div class="col-12">
                                        <h2 class="text-center mb-3" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>Advanced Admin Page Guide</h2>
                                        <p class="{% if faculty.dark_mode %}text-white{% else %}text-muted{% endif %} text-center mb-4">Learn how to navigate and manage the advanced admin page efficiently.</p>

                                        <!-- Table of Contents -->
                                        <div class="card mb-4" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px;"{% endif %}>
                                            <div class="card-header bg-primary text-white py-2">
                                                <h5 class="mb-0">Table of Contents</h5>
                                            </div>
                                            <div class="card-body p-3" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <ul class="list-unstyled mb-0">
                                                            <li class="mb-2">
                                                                <a href="#overview-section" class="text-decoration-none" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                                    <i class="bi bi-info-circle-fill text-primary me-2"></i>Overview
                                                                </a>
                                                            </li>
                                                            <li class="mb-2">
                                                                <a href="#navigation-section" class="text-decoration-none" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                                    <i class="bi bi-compass-fill text-primary me-2"></i>Navigation
                                                                </a>
                                                            </li>
                                                            <li class="mb-2">
                                                                <a href="#user-management-section" class="text-decoration-none" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                                    <i class="bi bi-people-fill text-primary me-2"></i>User Management
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <ul class="list-unstyled mb-0">
                                                            <li class="mb-2">
                                                                <a href="#permissions-section" class="text-decoration-none" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                                    <i class="bi bi-shield-lock-fill text-primary me-2"></i>Permissions
                                                                </a>
                                                            </li>
                                                            <li class="mb-2">
                                                                <a href="#task-management-section" class="text-decoration-none" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                                    <i class="bi bi-list-check text-primary me-2"></i>Task Management
                                                                </a>
                                                            </li>
                                                            <li class="mb-2">
                                                                <a href="#document-management-section" class="text-decoration-none" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                                    <i class="bi bi-file-earmark-text text-primary me-2"></i>Document Management
                                                                </a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Overview Section -->
                                        <div class="row g-3 mb-4" id="overview-section">
                                            <div class="col-md-6">
                                                <div class="card h-100 border-0 shadow-sm" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px;"{% endif %}>
                                                    <div class="card-body">
                                                        <h5 class="card-title" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            <i class="bi bi-info-circle-fill text-primary me-2"></i>Overview
                                                        </h5>
                                                        <p class="card-text" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            The Advanced Admin Page is where administrators can manage faculty, users, and onboarding tasks in advanced settings. Each section corresponds to an area of the onboarding system.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="card h-100 border-0 shadow-sm" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px;"{% endif %}>
                                                    <div class="card-body">
                                                        <h5 class="card-title" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            <i class="bi bi-compass-fill text-primary me-2"></i>Navigation
                                                        </h5>
                                                        <p class="card-text" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            Navigate through the admin dashboard using the sidebar menu. Access different sections like Users, Groups, Tasks, and Faculty management.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- User Management Section -->
                                        <div class="row g-3 mb-4" id="user-management-section">
                                            <div class="col-md-6">
                                                <div class="card h-100 border-0 shadow-sm" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px;"{% endif %}>
                                                    <div class="card-body">
                                                        <h5 class="card-title" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            <i class="bi bi-people-fill text-primary me-2"></i>User Management & Permissions
                                                        </h5>
                                                        <p class="card-text" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            Manage user accounts, assign permissions, and control access levels. Create new users and modify existing user roles. Configure user permissions and access levels. Manage who can view, edit, or delete specific content and features.
                                                        </p>
                                                        <div class="mt-3">
                                                            <div class="embed-responsive embed-responsive-16by9">
                                                                <iframe src="https://scribehow.com/embed/User_Management_Guide__wKujrzKcQ9KC-J72dxqLEA" width="100%" height="100%" allow="fullscreen" style="aspect-ratio: 3 / 4; max-width: 100%; max-height: 600px; border: 0;"></iframe>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="card h-100 border-0 shadow-sm" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px;"{% endif %}>
                                                    <div class="card-body">
                                                        <h5 class="card-title" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            <i class="bi bi-shield-lock-fill text-primary me-2"></i> Reminders & Notifications
                                                        </h5>
                                                        <p class="card-text" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            Set reminders and notifications for faculty members. Send reminders and notifications to faculty members about upcoming deadlines and incomplete tasks.
                                                        </p>
                                                        <div class="mt-3">
                                                            <div class="embed-responsive embed-responsive-16by9">
                                                                <iframe src="https://scribehow.com/embed/Managing_Reminders_and_Adding_New_Ones__ejcWN46LQJiBhGuVxXixCA" width="100%" height="100%" allow="fullscreen" style="aspect-ratio: 3 / 4; max-width: 100%; max-height: 600px; border: 0"></iframe>                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Task Management Section -->
                                        <div class="row g-3 mb-4" id="task-management-section">
                                            <div class="col-md-6">
                                                <div class="card h-100 border-0 shadow-sm" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px;"{% endif %}>
                                                    <div class="card-body">
                                                        <h5 class="card-title" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            <i class="bi bi-list-check text-primary me-2"></i>Task Management
                                                        </h5>
                                                        <p class="card-text" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            Create and manage onboarding tasks. Set deadlines, assign tasks to faculty members, and track completion status.
                                                        </p>
                                                        <div class="mt-3">
                                                            <div class="embed-responsive embed-responsive-16by9">
                                                                <iframe src="https://scribehow.com/embed/How_To_Add_and_Manage_New_Tasks_In_Advanced_Admin_Panel__pvaDbhh6R_a7Kdl1fZAtaA" width="100%" height="100%" allow="fullscreen" style="aspect-ratio: 3 / 4; max-width: 100%; max-height: 600px; border: 0;"></iframe>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="card h-100 border-0 shadow-sm" {% if faculty.dark_mode %}style="background-color: #5c5c5c; border-radius: 8px;"{% endif %}>
                                                    <div class="card-body">
                                                        <h5 class="card-title" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            <i class="bi bi-file-earmark-text text-primary me-2"></i>Document Management
                                                        </h5>
                                                        <p class="card-text" {% if faculty.dark_mode %}style="color: #ffffff;"{% endif %}>
                                                            Manage faculty documents and required paperwork. Review, approve, or request additional documentation as needed.
                                                        </p>
                                                        <div class="mt-3">
                                                            <div class="embed-responsive embed-responsive-16by9">
                                                                <iframe src="https://scribehow.com/embed/Document_Management_Guide__wKujrzKcQ9KC-J72dxqLEA" width="100%" height="100%" allow="fullscreen" style="aspect-ratio: 3 / 4; max-width: 100%; max-height: 600px; border: 0;"></iframe>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Smooth scrolling for table of contents links -->
<script>
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});
</script>
{% endblock %}
